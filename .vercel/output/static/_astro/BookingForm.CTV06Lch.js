import{j as e}from"./jsx-runtime.BO2lJwvL.js";import"./index.CvfraNNO.js";import{o as g,s as o,u as v,C as f,F as b,a as n,b as a,d as t,I as l,c as i,e as d,T as N,B as y,A as z,t as F}from"./textarea.Do1MmxKO.js";import{u as m}from"./index.BTFnWHIL.js";import"./index.DeUcLfIC.js";const w=g({activityTitle:o(),firstName:o().min(2,{message:"Le prénom doit contenir au moins 2 caractères"}),lastName:o().min(2,{message:"Le nom de famille doit contenir au moins 2 caractères"}),email:o().email({message:"Adresse e-mail invalide"}),phone:o().min(10,{message:"Numéro de téléphone invalide"}),date:o().min(1,{message:"La date est obligatoire"}),groupSize:o().min(1,{message:"Le nombre de personnes est obligatoire"}),hours:o().min(1,{message:"Le nombre d'heures est obligatoire"}),budget:o().optional(),location:o().optional(),message:o().optional()});function A({activityTitle:u,isGame:x,isCityGame:c}){const r=v({resolver:F(w),mode:"onChange",reValidateMode:"onChange",defaultValues:{activityTitle:u,firstName:"",lastName:"",email:"",phone:"",date:"",groupSize:"",hours:"",budget:"",location:"",message:""}}),j=async s=>{try{if(!await r.trigger()){m.error("Veuillez remplir tous les champs obligatoires.");return}const p=fetch("/api/booking",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});m.promise(p,{loading:"Envoi de la demande...",success:()=>(r.reset(),"Merci pour votre demande! Nous vous contacterons dans les 24 heures."),error:"Une erreur est survenue. Veuillez réessayer plus tard ou nous contacter directement."})}catch(h){console.error("Form submission error:",h),m.error("Une erreur est survenue. Veuillez réessayer plus tard.")}};return e.jsx(f,{className:"p-8 bg-white shadow-lg hover:shadow-xl transition-all duration-300",children:e.jsx(b,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(j),className:"space-y-8",children:[e.jsx(n,{control:r.control,name:"activityTitle",render:({field:s})=>e.jsx(a,{children:e.jsx(t,{children:e.jsx(l,{type:"hidden",...s})})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h3",{className:"text-2xl font-semibold",children:[x&&"Demandez un devis pour cette activité/jeux",c&&"Demandez un devis pour cette jeux de ville",!x&&!c&&"Demandez un devis pour cette activité/teambuilding"]}),e.jsx("p",{className:"text-muted-foreground",children:"Remplissez le formulaire et nous vous contacterons dans les 24 heures."})]}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[e.jsx(n,{control:r.control,name:"firstName",render:({field:s})=>e.jsxs(a,{children:[e.jsx(i,{children:"Prénom"}),e.jsx(t,{children:e.jsx(l,{placeholder:"John",...s})}),e.jsx(d,{})]})}),e.jsx(n,{control:r.control,name:"lastName",render:({field:s})=>e.jsxs(a,{children:[e.jsx(i,{children:"Nom de famille"}),e.jsx(t,{children:e.jsx(l,{placeholder:"Doe",...s})}),e.jsx(d,{})]})})]}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[e.jsx(n,{control:r.control,name:"email",render:({field:s})=>e.jsxs(a,{children:[e.jsx(i,{children:"Adresse e-mail"}),e.jsx(t,{children:e.jsx(l,{placeholder:"john.doe@company.com",...s})}),e.jsx(d,{})]})}),e.jsx(n,{control:r.control,name:"phone",render:({field:s})=>e.jsxs(a,{children:[e.jsx(i,{children:"Numéro de téléphone"}),e.jsx(t,{children:e.jsx(l,{placeholder:"+32 123 45 67 89",...s})}),e.jsx(d,{})]})})]}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[e.jsx(n,{control:r.control,name:"date",render:({field:s})=>e.jsxs(a,{children:[e.jsx(i,{children:"Date souhaitée"}),e.jsx(t,{children:e.jsx(l,{type:"date",...s})}),e.jsx(d,{})]})}),e.jsx(n,{control:r.control,name:"groupSize",render:({field:s})=>e.jsxs(a,{children:[e.jsx(i,{children:"Nombre de personnes"}),e.jsx(t,{children:e.jsx(l,{type:"number",placeholder:"10",...s})}),e.jsx(d,{})]})})]}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[e.jsx(n,{control:r.control,name:"hours",render:({field:s})=>e.jsxs(a,{children:[e.jsx(i,{children:"Nombre d'heures"}),e.jsx(t,{children:e.jsx(l,{type:"number",placeholder:"2",...s})}),e.jsx(d,{})]})}),e.jsx(n,{control:r.control,name:"budget",render:({field:s})=>e.jsxs(a,{children:[e.jsx(i,{children:"Budget (optionnel)"}),e.jsx(t,{children:e.jsx(l,{type:"number",placeholder:"1000",...s})}),e.jsx(d,{})]})})]}),!c&&e.jsx(n,{control:r.control,name:"location",render:({field:s})=>e.jsxs(a,{children:[e.jsx(i,{children:"Lieu (laissez vide si vous souhaitez que nous organisons l'événement chez vous)"}),e.jsx(t,{children:e.jsx(l,{placeholder:"Adres of stad",...s})}),e.jsx(d,{})]})}),e.jsx(n,{control:r.control,name:"message",render:({field:s})=>e.jsxs(a,{children:[e.jsx(i,{children:"Message"}),e.jsx(t,{children:e.jsx(N,{placeholder:"Racontez-nous plus sur vos souhaits...",className:"resize-none",...s})}),e.jsx(d,{})]})}),e.jsx(y,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white group h-auto py-4 text-lg rounded-xl font-medium shadow-lg hover:shadow-xl transition-all duration-300",children:e.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Demander un devis",e.jsx(z,{className:"w-5 h-5 transition-transform duration-300 group-hover:translate-x-1"})]})}),e.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:["En envoyant le formulaire, vous acceptez nos"," ",e.jsx("a",{href:"/fr/terms-of-service",className:"text-red-600 hover:text-red-700 underline",children:"conditions générales"})]})]})})})}export{A as BookingForm};
