---
// The most basic test possible for JSON-LD

// Create the data manually
const videoData = {
  '@context': 'https://schema.org',
  '@type': 'VideoObject',
  name: 'Extreme Test Video',
  description: 'Testing direct HTML injection',
  uploadDate: '2023-01-01',
  embedUrl: 'https://example.com/extreme-test',
  thumbnailUrl: 'https://example.com/extreme-thumbnail.jpg',
};

// Convert to string
const jsonldString = JSON.stringify(videoData);

// Log what we're doing
console.log('âš¡ EXTREME TEST:', {
  jsonldLength: jsonldString.length,
  hasData: !!jsonldString,
  videoData,
});

// Also store in locals for middleware testing
if (Astro.locals) {
  // @ts-ignore
  Astro.locals.jsonld = jsonldString;
  console.log('ðŸ“Œ EXTREME TEST STORED IN LOCALS');
}
---

<!doctype html>
<html>
  <head>
    <title>Extreme JSON-LD Test</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Direct injection in the HTML without any components -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "VideoObject",
        "name": "Extreme Test Video",
        "description": "Testing direct HTML injection",
        "uploadDate": "2023-01-01",
        "embedUrl": "https://example.com/extreme-test",
        "thumbnailUrl": "https://example.com/extreme-thumbnail.jpg"
      }
    </script>
  </head>
  <body>
    <h1>Extreme JSON-LD Test</h1>
    <p>This page tests the most direct way to add JSON-LD to the page.</p>

    <div style="background: #f0f0f0; padding: 20px; margin: 20px; border-radius: 8px;">
      <h2>JSON-LD Test Info:</h2>
      <pre>{jsonldString}</pre>
    </div>

    <p>
      <a
        href="/en/teambuildings/indoor-scherminitiatie"
        style="color: blue; text-decoration: underline; margin-right: 10px;">Go to Activity Page</a
      >
      <a href="/test-jsonld" style="color: blue; text-decoration: underline;">View Component Test</a
      >
    </p>
  </body>
</html>
