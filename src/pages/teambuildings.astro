---
import Layout from '@/layouts/Layout.astro';
import { getCollection } from 'astro:content';
import ActivityGrid from '@/components/TeamActivitiesList/ActivityGrid.astro';
import type { ImageMetadata } from 'astro';

// Get all activities
const activities = await getCollection('activities');

// Import all images
const imageImports = import.meta.glob<{ default: ImageMetadata }>(
  '/src/assets/activities/**/*.{jpeg,jpg,png,gif}',
  {
    eager: true,
  }
);

// Format activities for the grid
const formattedActivities = activities.map((activity) => ({
  id: activity.id,
  title: activity.data.title,
  description: activity.data.description,
  image: activity.data.image,
  categories: activity.data.categories,
}));
---

<Layout title="Teambuildings - ActionMaker">
  <section class="max-w-7xl mx-auto px-4 py-24 mt-16">
    <h1 class="text-4xl md:text-6xl font-bold mb-8">Teambuildings</h1>
    <p class="text-xl text-muted-foreground max-w-2xl mb-12">
      Ontdek onze selectie van teambuilding activiteiten
    </p>

    <ActivityGrid activities={formattedActivities} imageImports={imageImports} />
  </section>
</Layout>
